@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-gray-200;
  }

  body {
    @apply bg-page-bg text-gray-900 antialiased;
    font-feature-settings: "rlig" 1, "calt" 1;
  }
}

@layer utilities {
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}

@keyframes slideInFromTop {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideInFromBottom {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.animate-slide-in-top {
  animation: slideInFromTop 0.3s ease-out;
}

.animate-slide-in-bottom {
  animation: slideInFromBottom 0.3s ease-out;
}

.animate-fade-in {
  animation: fadeIn 0.2s ease-out;
}

input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type="number"] {
  -moz-appearance: textfield;
}

:focus-visible {
  outline: none;
}

/* ===== MOBILE ONLY (viewport fix: evita "pulo" quando barras do navegador aparecem/desaparecem) ===== */
@media (max-width: 768px) {
  html,
  body {
    height: 100%;
    overflow: hidden;
    position: fixed;
    width: 100%;
  }

  body {
    overscroll-behavior: none;
  }

  /* Página pública de orçamento: permitir scroll e pinch-zoom */
  html:has(body.public-quote-page) {
    overflow: auto !important;
    position: relative !important;
  }

  body.public-quote-page {
    overflow: auto !important;
    overflow-x: auto;
    position: relative !important;
    margin: 0;
    padding: 0;
    touch-action: manipulation;
    -webkit-text-size-adjust: 100%;
  }

  body.public-quote-page #root {
    min-height: 100%;
  }

  #root {
    height: calc(var(--vh, 1dvh) * 100);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior-y: none;
  }

  body.public-quote-page #root {
    overflow: visible;
    height: auto;
    min-height: 100%;
  }

  /* Prevenir zoom em inputs no iOS (font-size mínimo 16px) */
  input,
  textarea,
  select {
    font-size: max(16px, 1em);
  }
}
